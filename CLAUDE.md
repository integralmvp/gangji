# gangji - Flow Operating System

--------------------------------------------------
## 0. 프로젝트 정의
--------------------------------------------------

gangji는 생산성 도구가 아니다.

이 시스템은 "흐름을 다루기 위한 인터페이스"다.

**핵심 철학:**
```
Execute first, organize later
```

사용자는 계획하지 않는다.

사용자는 "백지를 펼치고 바로 쓴다".

구조는 나중에 생긴다.

--------------------------------------------------
## 1. 핵심 동작 원리
--------------------------------------------------

1. 백지 → 즉시 입력
2. 자동 저장
3. 기록 축적
4. 흐름 시각화

**행동 모델:**
```
RUN (실행/몰입)
→ STAND (복기/정리)
→ SIT (휴식)
```

이 흐름은 시스템의 중심이며 **절대 변경할 수 없다**.

--------------------------------------------------
## 2. 기술 스택 (고정)
--------------------------------------------------

- Next.js (App Router)
- TypeScript
- TailwindCSS
- Zustand
- IndexedDB (Dexie)
- TipTap Editor

--------------------------------------------------
## 3. 아키텍처 원칙
--------------------------------------------------

### 3.1 Local-first

- 서버 없음
- 인증 없음
- 모든 데이터는 로컬 저장

### 3.2 StorageAdapter 필수

앱은 저장 방식에 의존하면 안 된다.

```typescript
interface StorageAdapter {
  savePage/getPage/listPages
  saveBundle/getBundle/listBundles
  saveSprint/getSprint/listSprints
}
```

**현재:** IndexedDB
**미래:** SQLite / File system

### 3.3 데이터 안정성

- Dexie versioning 적용
- schema 변경 시 migration 지원
- content는 TipTap JSON으로 저장
- export 기능으로 데이터 보호

--------------------------------------------------
## 4. 전체 개발 로드맵
--------------------------------------------------

### Phase A — Local MVP (즉시 사용)

- 백지 입력
- 자동 저장
- 달력 시각화
- 몰입주간(RUN/STAND/SIT)

**목표:** 사용자가 오늘부터 사용 가능

### Phase B — 제품 완성도

- 태그/탭/북마크
- 검색
- 데이터 백업/복구
- 성능 최적화

### Phase C — 플랫폼 확장

- Desktop: Tauri + SQLite
- Mobile: Capacitor + SQLite

**목표:** PC/모바일 동일 경험

--------------------------------------------------
## 5. 오늘 개발 목표 (절대 기준) - Phase A
--------------------------------------------------

**다음 5가지 반드시 구현:**

1. 백지 펼치기 → 즉시 타이핑
2. 자동 저장 + 재접속 시 복원
3. 달력 ↔ 에디터 전환
4. 기록 존재 날짜 표시
5. 몰입주간 생성 및 표시

이 상태 = **"실사용 가능 상태"**

--------------------------------------------------
## 6. Phase A - PR 기반 실행 계획
--------------------------------------------------

### PR1 — Storage
- StorageAdapter
- Dexie schema + versioning

### PR2 — Layout
- TopBar / LeftNav / Main / Bottom
- view toggle

### PR3 — Editor (핵심)
- TipTap
- autofocus
- auto-save

### PR4 — Calendar
- 3개월 뷰
- 기록 표시
- 클릭 시 페이지 로드

### PR5 — Sprint
- RUN/STAND/SIT
- 하단 flow section

### PR6 — Editor Tools
- highlight / color / list / heading
- bubble menu

### PR7 — Backup
- export JSON

--------------------------------------------------
## 7. UX 절대 규칙
--------------------------------------------------

- 클릭 후 1초 내 입력 가능
- 저장 버튼 없음
- 입력 차단 없음
- 실패/경고 UI 없음
- 선택지는 3개 이하

**이 규칙은 기능보다 우선한다.**

--------------------------------------------------
## 8. 에디터 규칙
--------------------------------------------------

**허용:**
- bold / italic / underline
- heading
- list
- highlight
- color

**금지:**
- 폰트 선택
- 복잡한 스타일 UI

--------------------------------------------------
## 9. 금지 사항
--------------------------------------------------

- todo / 체크리스트
- 일정 관리
- 스트릭 / 점수 시스템
- 완료율
- 서버 기능
- 강제 입력

--------------------------------------------------
## 10. 성공 기준
--------------------------------------------------

사용자가 생각하지 않고

앱을 열고
→ 바로 쓰고
→ 자연스럽게 이어서 쓰는 것

**이게 가능하면 성공이다.**

--------------------------------------------------
## 11. 최종 정의
--------------------------------------------------

gangji는 도구가 아니다.

이것은

**"내 안의 흐름을 내가 다루게 만드는 시스템"**

이다.
