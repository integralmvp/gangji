# CLAUDE.md â€” Gangji (ê°±ì§€) í”„ë¡œì íŠ¸ ê¸°ì¤€ ë¬¸ì„œ
> **ëª©ì **: ì´ ë¬¸ì„œëŠ” Gangjië¥¼ â€œë³¸ì§ˆ ê·¸ëŒ€ë¡œâ€ êµ¬í˜„í•˜ê¸° ìœ„í•œ **ìµœì¢… ê¸°ì¤€(ë ˆì¼)**ì´ë‹¤.  
> ì•ìœ¼ë¡œì˜ ëª¨ë“  ê°œë°œ/ë¦¬íŒ©í† ë§/ì¶œì‹œëŠ” ì´ ë¬¸ì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ **ì¼ê´€ë˜ê²Œ** ì§„í–‰í•œë‹¤.

---

## 1) ì •ì²´ì„± Â· ì² í•™ Â· ì§€í–¥ì 

### 1.1 Gangji(ê°±ì§€)ë€?
- GangjiëŠ” **ìƒì‚°ì„± ë„êµ¬(í”Œë˜ë„ˆ/í• ì¼ì•±)**ê°€ ì•„ë‹ˆë‹¤.
- GangjiëŠ” **â€œíë¦„(Flow)ì„ ë‹¤ë£¨ê¸° ìœ„í•œ ê°œì¸ OSâ€**ë‹¤.
- ì‚¬ìš©ìëŠ” **ì •í•´ì§„ í‹€ì„ ì±„ìš°ì§€ ì•ŠëŠ”ë‹¤.**  
  ì‚¬ìš©ìëŠ” **ë°±ì§€ë¥¼ í¼ì¹˜ê³  ì¦‰ì‹œ ê¸°ë¡í•œë‹¤.**  
  êµ¬ì¡°(ì •ë¦¬/ë¶„ë¥˜/íšŒê³ /ê³„íš)ëŠ” **ë‚˜ì¤‘ì—** ìƒê¸´ë‹¤.

### 1.2 í•µì‹¬ ì›ì¹™(ë³€ê²½ ë¶ˆê°€)
- **Execute first, organize later** (ì„ ì‹¤í–‰ í›„ê³„íš/í›„ì •ë¦¬)
- **Zero friction / Zero pressure / Zero guilt**
  - ì…ë ¥ ê°•ì œ ì—†ìŒ, ë¯¸ì‘ì„± í˜ë„í‹° ì—†ìŒ, ì‹¤íŒ¨/ê²½ê³  UI ì—†ìŒ
  - ì‚¬ìš©ìê°€ â€œë¹„ëŠ” ì¹¸â€ì„ ë³´ë©° ì£„ì±…ê°ì„ ëŠë¼ê²Œ í•˜ëŠ” UI ê¸ˆì§€
- ì‚¬ìš©ìëŠ” **ì¼(æ—¥) ë‹¨ìœ„ê°€ ì•„ë‹ˆë¼ â€œëª°ì… ì£¼ê¸°â€**ë¡œ ì›€ì§ì¸ë‹¤.

---

## 2) í–‰ë™ ì—”ì§„: RUN â†’ STAND â†’ SIT (ê°€ì¥ ì¤‘ìš”, ì ˆëŒ€ ê³ ì •)

### 2.1 Flow Cycle ì •ì˜
- **RUN(ë‹¬ë¦¬ê¸°)**: ëª°ì…/ì‹¤í–‰/ì¶œë ¥(ì œì•½ ìµœì†Œ)
- **STAND(ì„œê¸°)**: ë‹¬ë¦° í›„ ë³µê¸°/ì •ë¦¬/ë‹¤ìŒ ë‹¬ë¦¬ê¸° ê³„íš(ì—°ê²°)
- **SIT(ì•‰ê¸°)**: íœ´ì‹/ì €ì—ë„ˆì§€ í—ˆìš©(ì••ë°• ì œê±°)

> ì´ ì‚¬ì´í´ì€ ì„ íƒ ì˜µì…˜ì´ ì•„ë‹ˆë¼ **ì‹œìŠ¤í…œì˜ í•µì‹¬ ë™ì‘ ì—”ì§„**ì´ë‹¤.

### 2.2 ëª°ì…ê¸°ê°„(Immersion Period)
- Gangjiì˜ ê³„íš/ìš´ì˜ ë‹¨ìœ„ëŠ” â€œí•˜ë£¨â€ê°€ ì•„ë‹ˆë¼ **â€œê¸°ê°„(Period)â€**ì´ë‹¤.
- ì‚¬ìš©ìëŠ” **í…Œë§ˆ ê¸°ë°˜ ëª°ì… ê¸°ê°„**ì„ ì„¤ì •í•˜ê³ ,
- ê·¸ ê¸°ê°„ì„ **RUN/STAND/SIT ê¸°ê°„ ì¡°í•©**ìœ¼ë¡œ ìš´ì˜í•œë‹¤.
- ë‹¬ë ¥ì€ â€œì¼ì •í‘œâ€ê°€ ì•„ë‹ˆë¼ **íë¦„ ì§€ë„(Flow Map)**ë‹¤.

---

## 3) ì œí’ˆ ê²½í—˜ì˜ í•µì‹¬ UX: â€œë°±ì§€ â†’ íë¦„â€

### 3.1 ì‚¬ìš©ì í•µì‹¬ í”Œë¡œìš°
1. **ë°±ì§€ í¼ì¹˜ê¸°**
2. **ì¦‰ì‹œ ì‘ì„±(ì»¤ì„œ ìë™ í¬ì»¤ìŠ¤)**
3. **ìë™ ì €ì¥(ë¬´ì˜ì‹ ì €ì¥)**
4. **ë‹¬ë ¥ì—ì„œ â€˜í”ì (ì¡´ì¬)â€™ í™•ì¸**
5. **ëª°ì…ê¸°ê°„(RUN/STAND/SIT)ë¡œ íë¦„ì„ ìš´ì˜**

### 3.2 Gangjiê°€ ê±°ë¶€í•˜ëŠ” UX
- í•  ì¼/ì™„ë£Œìœ¨/ìŠ¤íŠ¸ë¦­/ëª©í‘œ ë‹¬ì„±ë¥ /ë¶‰ì€ ê²½ê³ /ë¯¸ì‘ì„± ì•Œë¦¼  
â†’ **ì „ë¶€ ê¸ˆì§€**

---

## 4) UI/UX ê¸°ì¤€(êµ¬ì²´ ì„¤ê³„)

### 4.1 ì „ì²´ ë ˆì´ì•„ì›ƒ(ê³ ì •) â€” 3ì—´ êµ¬ì¡°
- **LeftPanel(â‰ˆ10%)**: íƒìƒ‰/ê´€ë¦¬ (glass blur, NOTEë³´ë‹¤ ì‹œê°ì ìœ¼ë¡œ ì•½í•˜ê²Œ)
- **NOTE(â‰ˆ80%)**: ì»¨í…ì¸  ì „ìš© (Calendar ë˜ëŠ” Editor)
- **RightToolbar(â‰ˆ10%)**: ì‹¤í–‰/ë„êµ¬ (glass blur, NOTEë³´ë‹¤ ì‹œê°ì ìœ¼ë¡œ ì•½í•˜ê²Œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LeftPanel  â”‚         NOTE (â‰ˆ80%)              â”‚ RightBar   â”‚
â”‚  (â‰ˆ10%)    â”‚  CalendarCanvas / BlankCanvas    â”‚  (â‰ˆ10%)    â”‚
â”‚  (glass)   â”‚  - í—¤ë”/í‘¸í„°/ì„¹ì…˜ ì™„ì „ ì—†ìŒ         â”‚  (glass)   â”‚
â”‚  íƒìƒ‰/ê´€ë¦¬  â”‚  - ì»¨í…ì¸ ë§Œ, 100vh ê³ ì •             â”‚  ì‹¤í–‰/ë„êµ¬  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**NOTE ë‚´ë¶€ ê·œì¹™ (ì ˆëŒ€ ê³ ì •)**
- í—¤ë”/í‘¸í„°/ì„¹ì…˜ UI ê¸ˆì§€ â€” ì˜¤ì§ ì»¨í…ì¸ ë§Œ ë Œë”ë§
- ë·° ì „í™˜ UI ê¸ˆì§€ â€” RightToolbarì—ì„œë§Œ ì „í™˜
- ê¸°ëŠ¥ ë²„íŠ¼ ê¸ˆì§€ â€” ì¢Œ/ìš° íŒ¨ë„ë¡œ ì™„ì „ ë¶„ë¦¬

---

### 4.2 Calendar View(ë‹¬ë ¥) â€” â€œê³„íší‘œê°€ ì•„ë‹Œ íë¦„ ì§€ë„â€
**í‘œì‹œí•´ì•¼ í•˜ëŠ” ê²ƒ**
- ğŸ“„ **ë°±ì§€ ê¸°ë¡ ì¡´ì¬**(ê·¸ë‚  ê¸°ë¡ì´ ìˆìŒì„ í‘œì‹œ)
- ğŸš© **ëª°ì… í…Œë§ˆ(ê¸°ê°„)** í‘œì‹œ(ê¹ƒë°œ + ë²”ìœ„ í•˜ì´ë¼ì´íŠ¸)
- ğŸ§/ğŸƒ/ğŸª‘ **ê¸°ê°„ íƒ€ì…(RUN/STAND/SIT)** í‘œì‹œ(ê¸°ê°„ ë‹¨ìœ„)

**í‘œì‹œí•˜ì§€ ë§ì•„ì•¼ í•˜ëŠ” ê²ƒ**
- ë¹ˆ ë‚  ê²½ê³ /ë¹¨ê°„ í‘œì‹œ/ë¯¸ì‘ì„± ë¶€ì±„ê° UI ê¸ˆì§€

**ìƒ‰ìƒ/í‘œì‹œ ë¡œì§(ì¤‘ìš”)**
- **ë¬´ì±„ìƒ‰(íšŒìƒ‰) = ê³„íš/í• ë‹¹ ìƒíƒœ**
- **ìœ ì±„ìƒ‰ = ì‹¤ì œ ìƒí˜¸ì‘ìš©ì´ ìˆì—ˆìŒ(í”ì )**
- â€œì™„ë£Œâ€ê°€ ì•„ë‹ˆë¼ **â€œì¡´ì¬(presence)â€**ë¥¼ ì‹œê°í™”í•œë‹¤.

**ë™ì‘**
- ë‚ ì§œ í´ë¦­ â†’ í•´ë‹¹ ë‚ ì§œì˜ Page(ë˜ëŠ” Bundle) ì—´ê¸° â†’ ìë™ìœ¼ë¡œ ì—ë””í„° ë·° ì „í™˜
- í•´ë‹¹ ë‚ ì§œ ê¸°ë¡ì´ ì—†ìœ¼ë©´ â†’ **ì¦‰ì‹œ ìƒì„±**(ë§ˆì°° ì—†ì´)

---

### 4.3 Blank Editor(ë°±ì§€) â€” â€œì¦‰ì‹œ ì“°ê¸°â€
**ì§„ì…**
- RightToolbarì˜ **[ë°±ì§€]** ë²„íŠ¼ ë˜ëŠ” ë‹¬ë ¥ ë‚ ì§œ í´ë¦­ìœ¼ë¡œ ì§„ì…
- **ì¤‘ê°„ ë‹¨ê³„/ëª¨ë‹¬/í¼ ê¸ˆì§€**
- ì—´ë¦¬ìë§ˆì **ì»¤ì„œ ìë™ í¬ì»¤ìŠ¤**, 1ì´ˆ ë‚´ íƒ€ì´í•‘ ê°€ëŠ¥

**ì‘ì„±**
- ì‚¬ìš©ìëŠ” â€œì¼ë°˜ ì–¸ì–´â€ë¡œ ì“´ë‹¤(ë§ˆí¬ë‹¤ìš´ ê°•ì œ ê¸ˆì§€)
- ì‹œìŠ¤í…œ ë‚´ë¶€ ì €ì¥ì€ êµ¬ì¡°í™”ëœ í¬ë§·(ë¦¬ì¹˜í…ìŠ¤íŠ¸)ë¡œ ìœ ì§€
- 1ì¥ ë‹¹ A4 ë¬¸ì„œ ê·œê²© ë‹¨ìœ„ë¡œ ì‘ì„±(ì¶”í›„ ì¸ì‡„ ê¸°ëŠ¥ ì¶”ê°€)

**ìë™ ì €ì¥**
- ì €ì¥ ë²„íŠ¼ ì—†ìŒ
- 500ms ë‚´ ë””ë°”ìš´ìŠ¤ ìë™ ì €ì¥
- ì•± ì¬ì‹¤í–‰/ìƒˆë¡œê³ ì¹¨ì—ë„ ë³µì›

**ë©”íƒ€ë°ì´í„°(ì„ íƒ/ì°¨ë‹¨ ê¸ˆì§€)**
- title(ë¬´ì œ í—ˆìš©)
- tabs(ë³µìˆ˜ ì„ íƒ)
- tags(ë³µìˆ˜ ì„ íƒ, ë³´ê´€ì†Œ)
- bookmark í† ê¸€
- ì´ì–´ì“°ê¸°(ë¬¶ìŒ) í† ê¸€

**ì´ì–´ì“°ê¸°(Bundle)**
- í•œ ë²ˆì˜ ì‘ì„± íë¦„ì´ ì—¬ëŸ¬ ì¥(í˜ì´ì§€)ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ
- ì´ì–´ì§„ í˜ì´ì§€ëŠ” **í•œ ë¬¶ìŒ(Bundle)**ìœ¼ë¡œ ê´€ë¦¬(ëª©ë¡/ë„¤ë¹„ê²Œì´ì…˜ ë‹¨ìœ„)

---

### 4.4 LeftPanel(íƒìƒ‰/ê´€ë¦¬) â€” "ì •ë¦¬ëŠ” ë‚˜ì¤‘"
ì´ˆê¸° MVPì—ì„œëŠ” UI ë¼ˆëŒ€ + í•µì‹¬ë§Œ ìš°ì„  êµ¬í˜„í•œë‹¤.
- Recent(ìµœê·¼ ê¸°ë¡ ë¬¶ìŒ/í˜ì´ì§€)
- Tabs(íƒ­ íŠ¸ë¦¬) : í•œ í˜ì´ì§€ ë‹¹ í•˜ë‚˜ ì´ìƒì˜ íƒ­ ì„¤ì • ê°€ëŠ¥ / í”Œë«í¼ ê¸°ë³¸ ê³ ì • íƒ­ ëª°ì…íƒ­(stand/run/sit ì„¸ê°œì˜ í•˜ìœ„ íƒ­)
- Tags(ë³´ê´€ì†Œ: íƒœê·¸ í´ë¼ìš°ë“œ/ëª©ë¡)
- Bookmarks(ë¶ë§ˆí¬ ëª©ë¡)
- Search(ë‹¨ìˆœ ê²€ìƒ‰ â†’ ê³ ë„í™”ëŠ” Phase B)

**ë””ìì¸**
- glass blur ë°˜íˆ¬ëª… ìŠ¤íƒ€ì¼ (NOTEë³´ë‹¤ ì‹œê°ì ìœ¼ë¡œ ì•½í•˜ê²Œ)
- í¬ìŠ¤íŠ¸ì‡ íƒ­ ìŠ¤íƒ€ì¼: ì•„ì´ì½˜+íƒ€ì´í‹€ ì¢Œì¸¡ ì ˆë°˜ íŒŒìŠ¤í…” ì»¬ëŸ¬, ìš°ì¸¡ í™”ì´íŠ¸

---

### 4.5 RightToolbar(ì‹¤í–‰/ë„êµ¬) â€” "ê¸°ëŠ¥ì˜ ì¤‘ì‹¬"
ë·° ì „í™˜, ì—ë””í„° ë„êµ¬, ëª°ì…ê¸°ê°„ ê´€ë¦¬ë¥¼ ëª¨ë‘ ë‹´ë‹¹í•˜ëŠ” ìš°ì¸¡ íŒ¨ë„.

**ì„¹ì…˜ êµ¬ì„± (ìœ„â†’ì•„ë˜)**
1) **ë·° ì „í™˜** â€” `calendar â†” editor` ì „í™˜ ë²„íŠ¼
2) **ë¬¸ì„œ ë„êµ¬** â€” Bold/Italic/Underline, Heading, List, Highlight (ì—ë””í„° ëª¨ë“œì—ì„œë§Œ)
3) **ëª°ì…ê¸°ê°„(Flow)** â€” Sprint/Period ê´€ë¦¬ (PR6ì—ì„œ êµ¬í˜„)

**ëª°ì…ê¸°ê°„ ìƒì„¸ ê¸°ëŠ¥** (PR6)
- ì‚¬ìš©ìê°€ ì§ì ‘ ëª°ì… í…Œë§ˆ/ê¸°ê°„ ì„¤ì •
- RUN/STAND/SIT ê¸°ê°„ ì„¤ì • + ëª©í‘œ 1ì¤„
- Flow Strip: `[ STAND ][ RUN ][ RUN ][ SIT ]`
  - hover: ê¸°ê°„ ì •ë³´(ê¸°ê°„/ëª©í‘œ)
  - click: ê¸°ê°„ í¸ì§‘

**ë””ìì¸**
- glass blur ë°˜íˆ¬ëª… ìŠ¤íƒ€ì¼ (NOTEë³´ë‹¤ ì‹œê°ì ìœ¼ë¡œ ì•½í•˜ê²Œ)
- ì„¹ì…˜ ì¹´ë“œ: í—¤ë”ë§Œ íŒŒìŠ¤í…” ì»¬ëŸ¬, ì½˜í…ì¸  ì˜ì—­ í™”ì´íŠ¸

---

## 5) ë””ìì¸ ì–¸ì–´(ê°±ì§€ ê°ì„±) ê¸°ì¤€
- ì»¨ì…‰: **ê°±ì§€ ë¬´ì§€ë…¸íŠ¸ì˜ ì•„ë‚ ë¡œê·¸ ê°ì„±**, ê°€ë³ê³  ì‚°ëœ»
- ë°°ê²½: ë”°ëœ»í•œ ë² ì´ì§€/ì¢…ì´ í†¤ (ì˜ˆ: `#F5E9DA` ê³„ì—´)
- í…ìŠ¤íŠ¸: ë‹¤í¬ ë¸Œë¼ìš´ ê³„ì—´
- í¬ì¸íŠ¸: í˜•ê´‘íœ(í•˜ì´ë¼ì´íŠ¸) ì¤‘ì‹¬
- LeftNav: ë…¸íŠ¸ íƒ­/í¬ìŠ¤íŠ¸ì‡ ìŠ¤íƒ€ì¼
- ê¸ˆì§€: ëŒ€ì‹œë³´ë“œ ëŠë‚Œ, ê°•í•œ í…Œí¬ UI, ê³¼í•œ ì°¨íŠ¸/ê²½ê³ /ë¹¨ê°• í˜ë„í‹°

---

## 6) ë¬¸ì„œ ì‘ì—… ë³´ì¡° íˆ´(ì—ë””í„° ìµœì†Œ í•„ìˆ˜)
> â€œì…ë ¥ ì¥ë²½ì„ ì˜¬ë¦¬ì§€ ì•Šìœ¼ë©´ì„œë„ ë¬¸ì„œ ì‘ì„±ì´ ê°€ëŠ¥í•´ì•¼ í•¨â€

**í•„ìˆ˜(Phase Aë¶€í„°)**
- êµµê²Œ/ê¸°ìš¸ì„/ë°‘ì¤„
- ë§ë¨¸ë¦¬/ì œëª©(H1~H3) *(í°íŠ¸ í¬ê¸° ì§ì ‘ ì¡°ì ˆ ëŒ€ì‹ )*
- ê¸€ë¨¸ë¦¬í‘œ/ë²ˆí˜¸ ëª©ë¡
- í…ìŠ¤íŠ¸ ìƒ‰ìƒ(ì œí•œëœ íŒ”ë ˆíŠ¸ 6~8)
- í˜•ê´‘íœ(Highlight) â€” **ì‹œê·¸ë‹ˆì²˜ ê¸°ëŠ¥**
- ë¹ ë¥¸ ê¸°í˜¸ ì‚½ì…(â€¢ â†’ âœ“ â˜… ë“±)

**UX ë°©ì‹**
- ê¸°ë³¸ì€ ë¯¸ë‹ˆ(ìˆ¨ê¹€)
- í…ìŠ¤íŠ¸ ì„ íƒ ì‹œ BubbleMenu
- ë¬¸ë‹¨ ì‹œì‘ ë˜ëŠ” `/` ì…ë ¥ ì‹œ ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ(ì„ íƒ)

**ê¸ˆì§€(ì´ˆê¸°)**
- í°íŠ¸ ì„ íƒ(ë‹¤ì¤‘ í°íŠ¸)
- í°íŠ¸ í¬ê¸° ììœ  ì¡°ì ˆ UI
- í‘œ/ì´ë¯¸ì§€ ì—…ë¡œë“œ(Phase A ì œì™¸)

---

## 7) ê¸°ìˆ  ìŠ¤íƒ & êµ¬ì¡°(ë¡œì»¬ í¼ìŠ¤íŠ¸ + í–¥í›„ PC/ëª¨ë°”ì¼)
### 7.1 ê³ ì • ìŠ¤íƒ(Phase A)
- Next.js(App Router) + TypeScript
- TailwindCSS
- Zustand
- IndexedDB(Dexie)
- TipTap

### 7.2 ë¡œì»¬ í¼ìŠ¤íŠ¸ ì›ì¹™(í˜‘ìƒ ë¶ˆê°€)
- ì„œë²„ ì—†ìŒ, ë¡œê·¸ì¸ ì—†ìŒ, ì¸ì¦ ì—†ìŒ
- ë°ì´í„°ëŠ” ë¡œì»¬ ì €ì¥, ì‚¬ìš©ìê°€ ì™„ì „ ì†Œìœ 

### 7.3 StorageAdapter(í•„ìˆ˜) â€” ì¶”í›„ í™•ì¥ ëŒ€ë¹„
- ì•± ë¡œì§ì€ ì €ì¥ì†Œì— ì§ì ‘ ì˜ì¡´ ê¸ˆì§€
- **StorageAdapter ì¸í„°í˜ì´ìŠ¤**ë¡œë§Œ ì ‘ê·¼
- í˜„ì¬ êµ¬í˜„: IndexedDB(Dexie)
- í–¥í›„ êµ¬í˜„(êµ¬ì¡°ë§Œ ì—´ì–´ë‘ ): Desktop(Tauri)+SQLite / Mobile(Capacitor)+SQLite / File-based

### 7.4 ë°ì´í„° ìœ ì§€(ì‹¤ì‚¬ìš© + ê°œë°œ ë³‘í–‰)
- Dexie **versioning + migration scaffold** í•„ìˆ˜
- content í¬ë§·: **TipTap JSON ê³ ì •**
- ìµœì†Œ ì•ˆì „ì¥ì¹˜: **Export(JSON)**
  - ê°œë°œ ì¤‘ì—ë„ ì‚¬ìš©ì ë°ì´í„° ìœ ì‹¤ ë°©ì§€
  - ImportëŠ” Phase Bì—ì„œ êµ¬í˜„ ê°€ëŠ¥

---

## 8) ë°ì´í„° ëª¨ë¸(ê¸°ì¤€)
- **Page**: ë‚ ì§œ ê¸°ë°˜ ê¸°ë¡ ë‹¨ìœ„(ë‚´ë¶€ ë‹¨ìœ„) â€” `pageNumber` í¬í•¨
- **Bundle**: ì´ì–´ì“°ê¸°/ì—°ì† ê¸°ë¡ì˜ ê´€ë¦¬ ë‹¨ìœ„(**UI ê¸°ì¤€ ë‹¨ìœ„**)
- **Sprint**: ëª°ì… í…Œë§ˆ/ê¸°ê°„ ë°°ì—´
- **Period**: run/stand/sit + ëª©í‘œ(1ì¤„) + startDate

> PageëŠ” "ë‚±ì¥", Bundleì€ "ë¬¶ìŒ(ì‹¤ì‚¬ìš© ë‹¨ìœ„)".

**pageNumber ê·œì¹™**
- ìƒì„± ì‹œ: `pageNumber = max(ê¸°ì¡´ pageNumber) + 1` (ë‹¨ì¡° ì¦ê°€)
- UI í‘œì‹œ: NOTE í•˜ë‹¨ ì¤‘ì•™ì— `â€” 1 â€”` í˜•íƒœ (ë§¤ìš° ì‘ê³  íë¦¬ê²Œ, ë³´ì¡° ì •ë³´)
- ê¸°ì¡´ ë°ì´í„°: createdAt ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ í›„ ìˆœì°¨ ë¶€ì—¬ (Dexie v2 migration ì™„ë£Œ)

---

## 9) ê°œë°œ â†’ ì¶œì‹œ ì²­ì‚¬ì§„(ì „ì²´ ë¡œë“œë§µ)
### Phase A: Local MVP (ì¦‰ì‹œ ì‚¬ìš©, ì˜¤ëŠ˜ë¶€í„° ê¸°ë¡)
- ë°±ì§€ ì…ë ¥(ì¦‰ì‹œ íƒ€ì´í•‘)
- ìë™ ì €ì¥/ë³µì›
- 3ê°œì›” ë‹¬ë ¥(í”ì  í‘œì‹œ)
- ëª°ì…ê¸°ê°„(RUN/STAND/SIT) ê¸°ë³¸ ìš´ì˜
- ì—ë””í„° ìµœì†Œ ë¬¸ì„œ íˆ´ + í•˜ì´ë¼ì´íŠ¸
- Export(JSON) (ìµœì†Œ ì•ˆì „ì¥ì¹˜)

### Phase B: ì œí’ˆ ì™„ì„±ë„(ë‚´êµ¬ì„±/í¸ì˜)
- Tabs/Tags/Bookmarks ì‹¤ì œ í•„í„°ë§ ì™„ì„±
- Search ê³ ë„í™”(ì œëª©/ë³¸ë¬¸/íƒœê·¸)
- Export/Import ì™„ì„±(ë³µêµ¬ í¬í•¨)
- ì„±ëŠ¥ ìµœì í™”(í˜ì´ì§€ 100+ì—ì„œë„ ë‹¬ë ¥/ê²€ìƒ‰ ë¹ ë¥´ê²Œ)
- PWA ì•ˆì •í™”(ì˜¤í”„ë¼ì¸/ì„¤ì¹˜ ê²½í—˜)

### Phase C: ì•± ì¶œì‹œ(PC/ëª¨ë°”ì¼)
- Desktop: Tauri ì‰˜ + SQLite Adapter
- Mobile: Capacitor ì‰˜ + SQLite Adapter
- ì—°ë™(ë™ê¸°í™”)ì€ â€œë‚˜ì¤‘â€
  - 1ì°¨: Export/Import ê¸°ë°˜ ìˆ˜ë™ ì—°ë™
  - 2ì°¨: í´ë”/í´ë¼ìš°ë“œ ê¸°ë°˜ ë™ê¸°
  - 3ì°¨: ì¶©ëŒ í•´ê²° í¬í•¨ ì–‘ë°©í–¥ Sync ì—”ì§„

---

## 10) ê°œë°œ ì‹œì‘ ëª©í‘œ(â€œë°”ë¡œ ì¨ì§€ëŠ” Gangjiâ€ ê¸°ì¤€)
**2/16 Definition of Done (í•„ìˆ˜ 5ê°œ)**
1. ë°±ì§€ í¼ì¹˜ê¸° â†’ ì¦‰ì‹œ íƒ€ì´í•‘(ì»¤ì„œ ìë™ í¬ì»¤ìŠ¤)
2. ìë™ ì €ì¥(500ms) + ìƒˆë¡œê³ ì¹¨/ì¬ì‹¤í–‰ ë³µì›
3. ë‹¬ë ¥ â†” ë°±ì§€ ì „í™˜
4. ë‹¬ë ¥ì— ê¸°ë¡ ì¡´ì¬ í‘œì‹œ(ğŸ“„/dot)
5. ëª°ì…ê¸°ê°„ ìƒì„±/í‘œì‹œ(RUN/STAND/SIT + ëª©í‘œ 1ì¤„ + ìŠ¤íŠ¸ë¦½)

> ì´ 5ê°œê°€ ë˜ë©´ ì˜¤ëŠ˜ë¶€í„° ì‹¤ì‚¬ìš© ì‹œì‘.

---

## 11) PR ë‹¨ìœ„ ì‹¤í–‰ ê³„íš(ê°œë°œ ê¸°ì¤€)
> ì›ì¹™: **ì‘ë™ ìš°ì„  â†’ ì‚¬ìš© â†’ í”¼ë“œë°± â†’ ê°œì„ **  
> ì‹¤ì‚¬ìš© ë°ì´í„°ëŠ” ìœ ì§€ë˜ë„ë¡ versioning/Exportë¥¼ ë°˜ë“œì‹œ í¬í•¨.

### PR1 â€” í”„ë¡œì íŠ¸ ìŠ¤ìºí´ë”© & ì˜ì¡´ì„±
- Next.js(App Router), TS, Tailwind, Zustand, Dexie, TipTap ì„¤ì¹˜
- í´ë” êµ¬ì¡° ìƒì„±(`/components /store /lib/storage /types`)
- ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ë¼ìš°íŒ… ì¤€ë¹„

### PR2 â€” Storage Foundation (Adapter + Dexie + Versioning)
- StorageAdapter ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- Dexie schema + versioning/migration scaffold
- ê¸°ë³¸ CRUD + ë‚ ì§œ ê¸°ë°˜ ë¡œë“œ ì§€ì›

### PR3 â€” Layout(ê·¸ë¦‡) + ë·° ì „í™˜ âœ…
- 3ì—´ ê³ ì • ë ˆì´ì•„ì›ƒ: LeftPanel + NOTE(â‰ˆ80%) + RightToolbar
- NOTE ë‚´ë¶€: í—¤ë”/í‘¸í„°/ì„¹ì…˜ ì™„ì „ ì œê±°, ì»¨í…ì¸ ë§Œ ë Œë”ë§
- RightToolbarì—ì„œ ë‹¬ë ¥â†”ë°±ì§€ ì „í™˜
- CalendarCanvas: ì¢Œì¸¡ ì†Œí˜• 3ê°œì›” + ìš°ì¸¡ ëŒ€í˜• í˜„ì¬ì›”
- BlankCanvas: ì»¤ì„œ ìë™ í¬ì»¤ìŠ¤ + í•˜ë‹¨ ìª½ìˆ˜ í‘œì‹œ
- pageNumber í•„ë“œ ì¶”ê°€ (Dexie v2 migration í¬í•¨)

### PR4 â€” Blank Editor(í•µì‹¬) + Auto-save/Restore
- â€œì—´ìë§ˆì ì“°ê¸°â€ êµ¬í˜„(autofocus)
- 500ms debounce auto-save
- ì˜¤ëŠ˜ í˜ì´ì§€ ìë™ ìƒì„±/ë¡œë“œ
- title/ë©”íƒ€ëŠ” ì„ íƒ(ì°¨ë‹¨ ê¸ˆì§€)

### PR5 â€” Calendar(3ê°œì›”) + ê¸°ë¡ ì¡´ì¬ í‘œì‹œ + ë‚ ì§œ í´ë¦­ ë¡œë“œ
- ì „ì›”/í˜„ì¬/ë‹¤ìŒì›” 3ê°œì›” í‘œì‹œ
- ê¸°ë¡ ì¡´ì¬ í‘œì‹œ(ğŸ“„/dot)
- ë‚ ì§œ í´ë¦­ â†’ í•´ë‹¹ í˜ì´ì§€(ì—†ìœ¼ë©´ ìƒì„±) â†’ ì—ë””í„°ë¡œ ì „í™˜

### PR6 â€” Sprint/Flow System(RUN/STAND/SIT) ê¸°ë³¸ êµ¬í˜„
- í…Œë§ˆ/ê¸°ê°„ ì„¤ì •
- ê¸°ê°„ ìŠ¤íŠ¸ë¦½(hover/click í¸ì§‘)
- ë‹¬ë ¥ì— ëª°ì… ê¸°ê°„ í•˜ì´ë¼ì´íŠ¸(ìµœì†Œ)

### PR7 â€” Editor Tools(ë¬¸ì„œ íˆ´) ìµœì†Œ êµ¬í˜„
- Bold/Italic/Underline, Heading, List
- Highlight + Text Color
- BubbleMenu + Slash command(ê°„ë‹¨)

### PR8 â€” Export(JSON) ì•ˆì „ì¥ì¹˜(ìµœì†Œ)
- ì „ì²´ ë°ì´í„° Export(JSON)
- ImportëŠ” Phase Bì—ì„œ

---

## 12) ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸(ë§¤ PR ê³µí†µ)
- ì•± ì—´ë©´ **1ì´ˆ ë‚´ ì‘ì„± ê°€ëŠ¥**
- ì €ì¥ ë²„íŠ¼ ì—†ìŒ / ì…ë ¥ ì°¨ë‹¨ ì—†ìŒ
- ìƒˆë¡œê³ ì¹¨ í›„ ë°ì´í„° ìœ ì§€
- ë‹¬ë ¥ì€ â€œí”ì â€ë§Œ ë³´ì—¬ì¤Œ(í˜ë„í‹° ì—†ìŒ)
- RUN/STAND/SIT íë¦„ì´ UI/ë°ì´í„°ì—ì„œ ê¹¨ì§€ì§€ ì•ŠìŒ

---

## 13) ì ˆëŒ€ ê¸ˆì§€(ì¬í™•ì¸)
- todo/ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¤‘ì‹¬
- ìŠ¤íŠ¸ë¦­/ì ìˆ˜/ì™„ë£Œìœ¨/ê°•ì œ ì•Œë¦¼
- ì„œë²„/ë¡œê·¸ì¸/ê³„ì •
- ë¯¸ì‘ì„± ê²½ê³ /í˜ë„í‹° UI
- UIì—ì„œ í•œ ë²ˆì— ì„ íƒì§€ 3ê°œ ì´ˆê³¼

---

## 14) í•œ ë¬¸ì¥ ì •ì˜(íŒ€/ì½”ë“œì˜ ë‚˜ì¹¨ë°˜)
**GangjiëŠ” â€œë‚´ ì•ˆì˜ í˜(íë¦„)â€ì„ ë‚´ê°€ ë‹¤ë£¨ê²Œ ë§Œë“œëŠ”, ë°±ì§€ ê¸°ë°˜ Flow OSë‹¤.**

---

## 15) ì½”ë“œ ì»¨ë²¤ì…˜

> ëª©ì : Gangji í”„ë¡œì íŠ¸ì˜ **ì¼ê´€ì„±, í™•ì¥ì„±, ìœ ì§€ë³´ìˆ˜ì„±**ì„ í™•ë³´í•œë‹¤.  
> ì›ì¹™: ë³¸ ì½”ë“œ ì»¨ë²¤ì…˜ì€ **CLAUDE.md ì—…ë°ì´íŠ¸ ì‹œì—ë„ ì ˆëŒ€ ì‚­ì œ/ëˆ„ë½ ê¸ˆì§€**.

---

### 15.1 í´ë” ë° ì±…ì„ ê·œì¹™ (Next.js App Router + Feature êµ¬ì¡°)

- `app/` : ë¼ìš°íŒ… ë° í˜ì´ì§€ ì¡°ë¦½ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€)
- `components/common/` : ê³µìš© ì»´í¬ë„ŒíŠ¸ (2ê³³ ì´ìƒ ì‚¬ìš©)
- `features/{feature}/` : ê¸°ëŠ¥ ë‹¨ìœ„ ë£¨íŠ¸
  - `ui/` : feature ë‚´ë¶€ UI ì»´í¬ë„ŒíŠ¸
  - `sections/` : í™”ë©´ êµ¬ì„± ë‹¨ìœ„ (ì¡°ë¦½/ë ˆì´ì•„ì›ƒ)
  - `hooks/` : ìƒíƒœ ë° ì´ë²¤íŠ¸ ì²˜ë¦¬
  - `utils/` : ë³€í™˜/ê²€ì¦/ë³´ì¡° ë¡œì§

- `lib/`
  - `storage/` : ì €ì¥ì†Œ ê³„ì¸µ (Dexie + Adapter)
  - `utils/` : ì „ì—­ ìœ í‹¸ í•¨ìˆ˜

- `types/` : ì „ì—­ íƒ€ì… ì •ì˜

**ì¤‘ìš”**
- `features/{feature}/components/` í´ë” ìƒì„± ê¸ˆì§€ â†’ ë°˜ë“œì‹œ `ui/` ì‚¬ìš©
- `app/` ë‚´ë¶€ì— ìƒíƒœ/ë¡œì§ ì‘ì„± ê¸ˆì§€ (ë Œë” ì¡°ë¦½ë§Œ ìˆ˜í–‰)

---

### 15.2 ì»´í¬ë„ŒíŠ¸ í¬ê¸° ê°€ë“œë ˆì¼

- ì¡°ë¦½(ì»¨í…Œì´ë„ˆ) ì»´í¬ë„ŒíŠ¸: **200ì¤„ ëª©í‘œ**
- ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸: **300ì¤„ ì´ˆê³¼ ê¸ˆì§€**
- ì´ˆê³¼ ì‹œ:
  - `sections/` (êµ¬ì¡° ë¶„ë¦¬)
  - `ui/` (ë‹¨ì¼ UI ë¶„ë¦¬)

---

### 15.3 UI / ìƒíƒœ / ë¡œì§ ë¶„ë¦¬ ì›ì¹™

- TSX(JSX) ë‚´ë¶€ì— ê³„ì‚°/ë³€í™˜ ë¡œì§ ì‘ì„± ê¸ˆì§€
- ë°ì´í„° ë³€í™˜/ê°€ê³µì€ `utils/`ì—ì„œ ìˆ˜í–‰
- ìƒíƒœ ë° í•¸ë“¤ëŸ¬ëŠ” `hooks/`ë¡œ ë¶„ë¦¬

**ìˆœìˆ˜ í•¨ìˆ˜ ì˜ì—­ ê·œì¹™**
- `lib/storage/`, `lib/utils/`, `features/*/utils/`
  - React import ê¸ˆì§€
  - side-effect ìµœì†Œí™”

---

### 15.4 Storage ê³„ì¸µ ê·œì¹™ (Gangji í•µì‹¬ êµ¬ì¡°)

- ëª¨ë“  ë°ì´í„° ì ‘ê·¼ì€ **StorageAdapterë¥¼ í†µí•´ì„œë§Œ ìˆ˜í–‰**
- UI / Storeì—ì„œ Dexie ì§ì ‘ ì ‘ê·¼ ê¸ˆì§€

**êµ¬ì¡°**
- `lib/storage/adapter.ts` : ì¸í„°í˜ì´ìŠ¤
- `lib/storage/db.ts` : Dexie schema + versioning
- `lib/storage/indexedDBAdapter.ts` : êµ¬í˜„ì²´

**ê·œì¹™**
- schema ë³€ê²½ ì‹œ version ì¦ê°€ í•„ìˆ˜
- migration ë¡œì§ ë°˜ë“œì‹œ ì‘ì„±
- ì‚¬ìš©ì ë°ì´í„° ìœ ì§€ ìµœìš°ì„ 

---

### 15.5 ìƒíƒœ ê´€ë¦¬ ê·œì¹™ (Zustand)

- ZustandëŠ” **ë‹¨ì¼ ì§„ì‹¤ ì†ŒìŠ¤ ì—­í• ë§Œ ìˆ˜í–‰**
- ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì‚° ë¡œì§ì€ store ë‚´ë¶€ì— ì‘ì„± ê¸ˆì§€ â†’ utilsë¡œ ë¶„ë¦¬
- storeëŠ”:
  - ìƒíƒœ ì •ì˜
  - CRUD ì•¡ì…˜
  - ê°„ë‹¨í•œ íë¦„ ì œì–´ë§Œ ë‹´ë‹¹

- ìƒíƒœê°€ ì»¤ì§ˆ ê²½ìš°:
  - feature ë‹¨ìœ„ store ë¶„ë¦¬ í—ˆìš©
  - slice êµ¬ì¡° í—ˆìš©

---

### 15.6 íƒ€ì… ì •ì±…

- `types/models.ts` : í•µì‹¬ ë„ë©”ì¸ íƒ€ì… (Page, Bundle, Sprint, Period)
- í•„ìš” ì‹œ:
  - `types/ui.ts`
  - `types/storage.ts`

**ê·œì¹™**
- any ì‚¬ìš© ê¸ˆì§€ (ë¶ˆê°€í”¼í•œ ê²½ìš° ì£¼ì„ í•„ìˆ˜)
- íƒ€ì… ë³€í™˜ì€ `utils/`ì—ì„œ ìˆ˜í–‰

---

### 15.7 ì—ë””í„°/ë°ì´í„° í¬ë§· ê·œì¹™

- ì‚¬ìš©ì ì…ë ¥: ì¼ë°˜ í…ìŠ¤íŠ¸ UX
- ë‚´ë¶€ ì €ì¥: **TipTap JSON (ê³ ì •)**

**ê¸ˆì§€**
- ì—ë””í„° ë‚´ë¶€ì—ì„œ ì €ì¥ í¬ë§· ë³€í™˜ ì§ì ‘ ì²˜ë¦¬
â†’ ë°˜ë“œì‹œ utils ë ˆì´ì–´ ì‚¬ìš©

---

### 15.8 í™•ì¥ ëŒ€ë¹„ ê°€ë“œë ˆì¼

**sections ë¹„ëŒ€í™” ë°©ì§€**
- sectionsëŠ” "ì¡°ë¦½/ë¶„ê¸°"ë§Œ ë‹´ë‹¹
- ë‚´ë¶€ ë¡œì§/UIëŠ” ui ë˜ëŠ” hooksë¡œ ë¶„ë¦¬

**hooks ë¹„ëŒ€í™” ë°©ì§€**
- ìƒíƒœ + ì´ë²¤íŠ¸ë§Œ ë‹´ë‹¹
- ê³„ì‚°/íŒŒìƒ ë¡œì§ì€ utils ì´ë™

**ê²€ì¦ ë¡œì§ ë¶„ì‚° ê¸ˆì§€**
- ëª¨ë“  ê²€ì¦ì€ `utils/validation.ts` ì§‘ì¤‘

---

### 15.9 ë„¤ì´ë° ê·œì¹™

- ì»´í¬ë„ŒíŠ¸: `PascalCase.tsx`
- í›…: `useXxx.ts`
- ìœ í‹¸: `camelCase.ts`
- íƒ€ì…: `PascalCase`

**ì˜ˆì‹œ**
- `BlankEditor.tsx`
- `CalendarView.tsx`
- `FlowSection.tsx`
- `usePageStore.ts`

---

### 15.10 import / ì˜ì¡´ì„± ê·œì¹™

- ì ˆëŒ€ ê²½ë¡œ alias ì‚¬ìš©: `@/`
- ìƒëŒ€ê²½ë¡œ ê¹Šì´ 3ë‹¨ê³„ ì´ìƒ ê¸ˆì§€
- ìˆœí™˜ ì˜ì¡´ì„± ê¸ˆì§€

---

### 15.11 ì‘ì—… ì²­ì†Œ ê·œì¹™ (í•„ìˆ˜)

ì‘ì—… ì¢…ë£Œ ì‹œ ë°˜ë“œì‹œ ìˆ˜í–‰:

- ë¯¸ì‚¬ìš© íŒŒì¼ ì‚­ì œ
- ë¯¸ì‚¬ìš© export ì œê±°
- dead code ì œê±°
- import ì •ë¦¬

---

### 15.12 ì½”ë“œ í’ˆì§ˆ ì›ì¹™

- "ë¹ ë¥´ê²Œ" ë§Œë“¤ë˜ "ë¬´ë„ˆì§€ì§€ ì•Šê²Œ" ë§Œë“ ë‹¤
- êµ¬ì¡°ëŠ” ì†ë„ë¥¼ ëŠ¦ì¶”ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìœ ì§€í•˜ëŠ” ì¥ì¹˜ë‹¤
- ì½ê¸° ì‰¬ìš´ ì½”ë“œ = ìœ ì§€ ê°€ëŠ¥í•œ ì½”ë“œ

---

### 15.13 ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

- app/ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë“¤ì–´ê°€ ìˆì§€ ì•Šì€ê°€?
- TSX ë‚´ë¶€ì— ê³„ì‚° ë¡œì§ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ê°€?
- StorageAdapterë¥¼ ìš°íšŒí•˜ê³  ìˆì§€ ì•Šì€ê°€?
- hooksê°€ ë¹„ëŒ€í•´ì§€ì§€ ì•Šì•˜ëŠ”ê°€?
- ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ë‚¨ì•„ìˆì§€ ì•Šì€ê°€?

---

### 15.14 Gangji íŠ¹í™” ê·œì¹™ (ì¤‘ìš”)

- **UXë¥¼ ê¹¨ëŠ” êµ¬ì¡° ê¸ˆì§€**
  - ì…ë ¥ ì§€ì—° ìœ ë°œ êµ¬ì¡° ê¸ˆì§€
  - ë¶ˆí•„ìš”í•œ ìƒíƒœ ë™ê¸°í™” ê¸ˆì§€
- **Auto-save íë¦„ ë°©í•´ ê¸ˆì§€**
- **"ì—´ìë§ˆì ì“°ê¸°" ê²½í—˜ì„ ìµœìš°ì„ ìœ¼ë¡œ ìœ ì§€**

â†’ ëª¨ë“  ì½”ë“œ êµ¬ì¡°ëŠ” ì´ UXë¥¼ ì§€í‚¤ê¸° ìœ„í•´ ì¡´ì¬í•œë‹¤.

---

## 16) ê°œë°œ ì§„í–‰ ìƒí™© (êµ¬í˜„ ì™„ë£Œëœ PR)

> **ëª©ì **: ë‹¤ìŒ ì‘ì—… ì‹œ ë°˜ë“œì‹œ ì¸ì§€í•´ì•¼ í•˜ëŠ” êµ¬í˜„ ìƒíƒœë¥¼ ê¸°ë¡í•œë‹¤.
> **ì›ì¹™**: ì„¸ì…˜ ì¢…ë£Œ ì‹œ í•µì‹¬ ë‚´ìš©ë§Œ ì¶”ê°€í•œë‹¤.

---

### 16.1 ì™„ë£Œëœ PR

**âœ… PR1 â€” í”„ë¡œì íŠ¸ ìŠ¤ìºí´ë”© & ì˜ì¡´ì„± (ì™„ë£Œ: 2026-02-16)**
- Next.js 15.1.6, TypeScript, Tailwind, Zustand, Dexie, TipTap ì„¤ì¹˜
- í´ë” êµ¬ì¡° ìƒì„± ì™„ë£Œ
- ê°œë°œ ì„œë²„: `pnpm dev` (í¬íŠ¸: 3000)

**âœ… PR2 â€” Storage Foundation (ì™„ë£Œ: 2026-02-16)**
- StorageAdapter ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ (`lib/storage/adapter.ts`)
- Dexie schema v1 êµ¬í˜„ (`lib/storage/db.ts`)
- IndexedDBAdapter êµ¬í˜„ ì™„ë£Œ (`lib/storage/indexedDBAdapter.ts`)
- Storage Facade ì‹±ê¸€í†¤: `lib/storage/storage.ts`
- ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ í˜ì´ì§€: `/dev-storage`

**âœ… PR3 â€” Layout + ë·° ì „í™˜ (ì™„ë£Œ: 2026-02-17)**
- 3ì—´ ê³ ì • ë ˆì´ì•„ì›ƒ êµ¬í˜„ (LeftPanel + NOTE + RightToolbar)
- NOTE ë‚´ë¶€ ì™„ì „ ë¶„ë¦¬: ì»¨í…ì¸ ë§Œ, í—¤ë”/í‘¸í„°/ì„¹ì…˜ ì—†ìŒ
- RightToolbar: ë·° ì „í™˜(calendarâ†”editor) + ì—ë””í„° ë„êµ¬ ë¼ˆëŒ€ + ëª°ì…ê¸°ê°„ placeholder
- CalendarCanvas: ì¢Œì¸¡ ì†Œí˜• 3ê°œì›” + ìš°ì¸¡ ëŒ€í˜• í˜„ì¬ì›”
- BlankCanvas: ì»¤ì„œ ìë™ í¬ì»¤ìŠ¤ + í•˜ë‹¨ ìª½ìˆ˜ í‘œì‹œ (`â€” n â€”`)
- Zustand uiStore: viewMode / leftOpen / rightOpen ìƒíƒœ
- Dexie schema v2: pageNumber ì¸ë±ìŠ¤ ì¶”ê°€ + migration ì™„ë£Œ

---

### 16.2 í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡° (ì‹¤ì œ êµ¬í˜„)

```
/home/user/gangji/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx                    # ë©”ì¸ í˜ì´ì§€ (3ì—´ ë ˆì´ì•„ì›ƒ ì¡°ë¦½)
â”‚   â””â”€â”€ dev-storage/
â”‚       â””â”€â”€ page.tsx                # Storage ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ í˜ì´ì§€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/                     # ê³µìš© ì»´í¬ë„ŒíŠ¸ (ì¤€ë¹„ë¨)
â”‚   â””â”€â”€ layout/
â”‚       â”œâ”€â”€ LeftPanel.tsx           # ì¢Œì¸¡ íƒìƒ‰/ê´€ë¦¬ íŒ¨ë„ (glass, í¬ìŠ¤íŠ¸ì‡ íƒ­)
â”‚       â””â”€â”€ RightToolbar.tsx        # ìš°ì¸¡ ì‹¤í–‰/ë„êµ¬ íŒ¨ë„ (glass, ì„¹ì…˜ ì¹´ë“œ)
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â””â”€â”€ CalendarCanvas.tsx  # ë‹¬ë ¥ ì»¨í…ì¸  (ì†Œí˜• 3ê°œì›” + ëŒ€í˜• í˜„ì¬ì›”)
â”‚   â””â”€â”€ editor/
â”‚       â””â”€â”€ ui/
â”‚           â””â”€â”€ BlankCanvas.tsx     # ë°±ì§€ ì»¨í…ì¸  (autofocus + ìª½ìˆ˜)
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ storage/
â”‚       â”œâ”€â”€ adapter.ts              # StorageAdapter ì¸í„°í˜ì´ìŠ¤
â”‚       â”œâ”€â”€ db.ts                   # Dexie schema v2 (pageNumber migration í¬í•¨)
â”‚       â”œâ”€â”€ indexedDBAdapter.ts     # Dexie êµ¬í˜„ì²´
â”‚       â””â”€â”€ storage.ts              # Storage Facade ì‹±ê¸€í†¤
â”œâ”€â”€ store/
â”‚   â””â”€â”€ uiStore.ts                  # UI ìƒíƒœ (viewMode, leftOpen, rightOpen)
â””â”€â”€ types/
    â””â”€â”€ models.ts                   # Page, Bundle, Sprint, Period íƒ€ì…
```

---

### 16.3 Storage ê³„ì¸µ êµ¬í˜„ ìƒíƒœ

**Dexie Schema (v2 í˜„ì¬)**
- `pages`: id, date, **pageNumber**, content, title, tabs, tags, bookmarked, bundleId, createdAt, updatedAt
- `bundles`: id, title, pageIds, startDate, endDate, createdAt, updatedAt
- `sprints`: id, theme, startDate, endDate, periods, createdAt, updatedAt

**ì¸ë±ìŠ¤ (v2)**
- pages: date, pageNumber, bundleId, bookmarked, updatedAt, *tabs, *tags
- bundles: startDate, endDate, updatedAt
- sprints: startDate, endDate, updatedAt

**êµ¬í˜„ëœ ë©”ì„œë“œ (indexedDBAdapter.ts)**
- Page CRUD: createPage, getPageByDate, updatePage, deletePage
- Bundle CRUD: createBundle, getBundleById, updateBundle, deleteBundle
- Sprint CRUD: createSprint, getActiveSprint, updateSprint, deleteSprint
- Query: getPagesByDateRange, getBundlesByDateRange, getPagesByTabs, getPagesByTags, getBookmarkedPages

---

### 16.4 ë‹¤ìŒ ì‘ì—… ì‹œ ì°¸ì¡° ì‚¬í•­

**ê°œë°œ ì„œë²„ ì‹¤í–‰**
```bash
cd /home/user/gangji
pnpm dev
```

**ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸**
- URL: http://localhost:3000/dev-storage
- ëª¨ë“  Storage ì‘ì—…(CRUD + Query) ê²€ì¦ ê°€ëŠ¥

**ë°ì´í„° êµ¬ì¡° ì¤‘ìš” ì‚¬í•­**
- contentëŠ” `string` (TipTap JSONì„ stringifyí•œ ê°’)
- pageNumber: ìƒì„± ì‹œ max+1 ë‹¨ì¡° ì¦ê°€, UIì—ì„œ `â€” n â€”` í˜•íƒœ í‘œì‹œ
- tabs/tags: string[] (multi-entry ì¸ë±ìŠ¤)
- bundleId: nullable (ë‹¨ë… í˜ì´ì§€ í—ˆìš©)
- bookmarked: boolean (í•„ë“œëª… ì£¼ì˜ â€” `bookmark`ê°€ ì•„ë‹Œ `bookmarked`)

**ë‹¤ìŒ ì‘ì—…(PR4)**
- TipTap ì—ë””í„° ì—°ê²° (BlankCanvasì— ì‹¤ì œ ì—ë””í„° ì ìš©)
- 500ms debounce ìë™ ì €ì¥
- ì˜¤ëŠ˜ ë‚ ì§œ í˜ì´ì§€ ìë™ ìƒì„±/ë¡œë“œ
- pageNumber ìë™ ë¶€ì—¬ ë¡œì§
